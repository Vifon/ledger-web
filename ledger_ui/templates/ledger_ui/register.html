{% extends "./base.html" %}

{% block title %}
  {{ block.super }} - Register
{% endblock %}

{% block content %}
  <a class="plain-link"
     href="{{ request.path }}?reverse={{ reverse | yesno:"False,True" }}"
  >
    <h1 class="register-header">Ledger entries {{ reverse | yesno:"↑,↓" }}</h1>
  </a>

  <div class="list-container">
    {% for entry in entries %}
      <div class="container">
        {% if can_revert and forloop.first %}
          <form action="{% url 'ledger_ui:submit' %}" method="GET">
            <input class="amend" type="submit" value="⟲" title="Amend" />
            <input name="amend" type="hidden" value="true" />
          </form>
        {% endif %}
        <a class="plain-link"
           href="{% url 'ledger_ui:rule' %}?payee={{ entry.payee }}"
        >
          <pre class="border entry-full">{{ entry.body }}</pre>
          <div class="border entry-mini">
            {{ entry.date }}:
            {{ entry.payee }}
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
{% endblock %}
