{% extends "./base.html" %}

{% block title %}
  {{ block.super }} - Rules
{% endblock %}

{% block content %}
  <h2>Rules</h2>
  <form class="rule-new" action="{% url 'ledger_ui:rule' %}">
    <input type="submit" value="New" />
  </form>
  <table class="ledger-table">
    <tr>
      <th>Payee</th>
      <th>New payee</th>
      <th>Account from</th>
      <th>Account to</th>
    </tr>
    {% for rule in object_list %}
      <tr class="rule-row">
        <td>
          <a href="{% url 'ledger_ui:rule' rule.pk %}">{{ rule.payee }}</a>
        </td>
        <td> {{ rule.new_payee }} </td>
        <td> {{ rule.acc_from }} </td>
        <td> {{ rule.acc_to }} </td>
        <td>
          <form action="{% url 'ledger_ui:rule_delete' rule.pk %}" method="post">
            {% csrf_token %}
            <input type="submit" value="Delete" />
          </form>
        </td>
      </tr>
    {% endfor %}
  </table>

  {% url 'ledger_ui:rule' as fab_target %}
  {% include "./components/fab.html" with button_id="rules-fab" target=fab_target %}
{% endblock %}
